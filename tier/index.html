---
layout: default
custom_css: [tiers]
custom_js: [translation-loader]
custom_data: [characters/characters.js]
permalink: /tier/
language: kr
title: í˜ë¥´ì†Œë‚˜5 ë” íŒ¬í…€ X ë£¨í˜ë¥´ë„· - í‹°ì–´ ë©”ì´ì»¤
description: ë³¸ì¸ë§Œì˜ P5X í‹°ì–´ë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”.
---

<link
rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
/>

<script type="module" src="tiers.js?v=${APP_VERSION}"></script>

 <!-- Main content -->
<div class="main-wrapper">
    <!-- ì–¸ì–´ ì•ˆë‚´ ë©”ì‹œì§€ -->
    <div id="language-notice" class="language-notice" style="display: none;">
        <p id="language-notice-text"></p>
    </div>
    
    <!-- Navigation path -->
    <div class="navigation-path">
        <script>document.write(`<a href="../../?v=${APP_VERSION}" id="nav-home">í™ˆ</a>`);</script>
        <span class="separator">/</span>
        <span class="current-page" id="nav-current">í‹°ì–´ ë©”ì´ì»¤</span>
    </div>
    <div class="header-container">
        <h1 id="page-title">í‹°ì–´ ë©”ì´ì»¤</h1>
    </div>
    <!-- Filter section -->
    <div class="filter-section">
        <div class="filter-header">
            <button class="filter-toggle-btn">
                <img src="{{ site.baseurl }}/assets/img/character-cards/filter.png" alt="í•„í„°" />
                <span></span>
            </button>
            <button class="filter-reset-btn" style="display: none;">
                <img src="{{ site.baseurl }}/assets/img/character-cards/reset.png" alt="ì´ˆê¸°í™”" />
            </button>
        </div>
        
        <div class="filter-content" style="display: none;">
            <!-- Element filter -->
            <div class="filter-group">
                <h3 id="filter-element-title">ì†ì„±</h3>
                <div class="filter-options">
                    <label>
                        <input type="checkbox" name="element" value="ë¬¼ë¦¬">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_ë¬¼ë¦¬.png" alt="ë¬¼ë¦¬">
                        <span></span>
                    </label>
                    <label>
                        <input type="checkbox" name="element" value="ì´ê²©">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_ì´ê²©.png" alt="ì´ê²©">
                        <span></span>
                    </label>
                    <label>
                        <input type="checkbox" name="element" value="í™”ì—¼">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_í™”ì—¼.png" alt="í™”ì—¼">
                        <span></span>
                    </label>
                    <label>
                        <input type="checkbox" name="element" value="ë¹™ê²°">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_ë¹™ê²°.png" alt="ë¹™ê²°">
                        <span></span>
                    </label>
                    <label>
                        <input type="checkbox" name="element" value="ì „ê²©">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_ì „ê²©.png" alt="ì „ê²©">
                        <span></span>
                    </label>
                    <label>
                        <input type="checkbox" name="element" value="ì§ˆí’">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_ì§ˆí’.png" alt="ì§ˆí’">
                        <span></span>
                    </label>
                    <label>
                        <input type="checkbox" name="element" value="ì—¼ë™">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_ì—¼ë™.png" alt="ì—¼ë™">
                        <span></span>
                    </label>
                    <label>
                        <input type="checkbox" name="element" value="í•µì—´">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_í•µì—´.png" alt="í•µì—´">
                        <span></span>
                    </label>
                    <label>
                        <input type="checkbox" name="element" value="ì¶•ë³µ">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_ì¶•ë³µ.png" alt="ì¶•ë³µ">
                        <span></span>
                    </label>
                    <label>
                        <input type="checkbox" name="element" value="ì£¼ì›">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_ì£¼ì›.png" alt="ì£¼ì›">
                        <span></span>
                    </label>
                    <label>
                        <input type="checkbox" name="element" value="ë§ŒëŠ¥">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì†ì„±_ë§ŒëŠ¥.png" alt="ë§ŒëŠ¥">
                        <span></span>
                    </label>
                </div>
            </div>
            
            <!-- Position filter -->
            <div class="filter-group">
                <h3 id="filter-position-title">ì§ì—…</h3>
                <div class="filter-options">
                    <label>
                        <input type="checkbox" name="position" value="ì§€ë°°">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì§ì—…_ì§€ë°°.png" alt="ì§€ë°°">
                    </label>
                    <label>
                        <input type="checkbox" name="position" value="ë°˜í•­">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì§ì—…_ë°˜í•­.png" alt="ë°˜í•­">
                    </label>
                    <label>
                        <input type="checkbox" name="position" value="ìš°ì›”">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì§ì—…_ìš°ì›”.png" alt="ìš°ì›”">
                    </label>
                    <label>
                        <input type="checkbox" name="position" value="êµ´ë³µ">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì§ì—…_êµ´ë³µ.png" alt="êµ´ë³µ">
                    </label>
                    <label>
                        <input type="checkbox" name="position" value="ë°©ìœ„">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì§ì—…_ë°©ìœ„.png" alt="ë°©ìœ„">
                    </label>
                    <label>
                        <input type="checkbox" name="position" value="êµ¬ì›">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì§ì—…_êµ¬ì›.png" alt="êµ¬ì›">
                    </label>
                    <label>
                        <input type="checkbox" name="position" value="í•´ëª…">
                        <img src="{{ site.baseurl }}/assets/img/character-cards/ì§ì—…_í•´ëª….png" alt="í•´ëª…">
                    </label>
                </div>
            </div>
            
            <!-- Rarity filter -->
            <div class="filter-group">
                <h3 id="filter-rarity-title">ìœ í˜•</h3>
                <div class="filter-options">
                    <label>
                        <input type="checkbox" name="rarity" value="5" hidden>
                        <div class="star-container">
                            <img src="{{ site.baseurl }}/assets/img/character-detail/star5.png" alt="â˜…">
                            <img src="{{ site.baseurl }}/assets/img/character-detail/star5.png" alt="â˜…">
                            <img src="{{ site.baseurl }}/assets/img/character-detail/star5.png" alt="â˜…">
                            <img src="{{ site.baseurl }}/assets/img/character-detail/star5.png" alt="â˜…">
                            <img src="{{ site.baseurl }}/assets/img/character-detail/star5.png" alt="â˜…">
                        </div>
                    </label>
                    <label>
                        <input type="checkbox" name="rarity" value="4" hidden>
                        <div class="star-container">
                            <img src="{{ site.baseurl }}/assets/img/character-detail/star4.png" alt="â˜…">
                            <img src="{{ site.baseurl }}/assets/img/character-detail/star4.png" alt="â˜…">
                            <img src="{{ site.baseurl }}/assets/img/character-detail/star4.png" alt="â˜…">
                            <img src="{{ site.baseurl }}/assets/img/character-detail/star4.png" alt="â˜…">
                        </div>
                    </label>
                </div>
            </div>

            <!-- Tag filter -->
            <div class="filter-group">
                <h3 id="filter-tag-title">íƒœê·¸</h3>
                <div class="filter-options tag-options">
                    <label><input type="checkbox" name="tag" value="TECHNICAL"><span>TECHNICAL</span></label>
                    <label><input type="checkbox" name="tag" value="ì¶”ê°€íš¨ê³¼"><span>ì¶”ê°€ íš¨ê³¼</span></label>
                    <label><input type="checkbox" name="tag" value="ì§€ì†ëŒ€ë¯¸ì§€"><span>ì§€ì† ëŒ€ë¯¸ì§€</span></label>
                    <label><input type="checkbox" name="tag" value="ë°©ì–´ë ¥ê°ì†Œ"><span>ë°©ì–´ë ¥ ê°ì†Œ</span></label>
                    <label><input type="checkbox" name="tag" value="ê´€í†µ"><span>ê´€í†µ</span></label>
                    <label><input type="checkbox" name="tag" value="íš¨ê³¼ëª…ì¤‘"><span>íš¨ê³¼ ëª…ì¤‘</span></label>
                    <label><input type="checkbox" name="tag" value="ì‹¤ë“œ"><span>ì‹¤ë“œ</span></label>
                    <label><input type="checkbox" name="tag" value="í™”ìƒ"><span>í™”ìƒ</span></label>
                    <label><input type="checkbox" name="tag" value="í’ìŠµ"><span>í’ìŠµ</span></label>
                    <label><input type="checkbox" name="tag" value="ê°ì „"><span>ê°ì „</span></label>
                    <label><input type="checkbox" name="tag" value="ë™ê²°"><span>ë™ê²°</span></label>
                </div>
            </div>
        </div>
    </div>

    <!-- Separator line -->
    <div class="separator-line"></div>

    <div class="add-tier-button-container">
        <button id="add-tier-button" class="add-tier-btn">
            <i class="bi bi-plus-circle"></i> ìƒˆ í‹°ì–´ ì¶”ê°€
        </button>
    </div>
    <div
    class="tiers-container"
    data-placeholder="Click on the title to add a new tier."
    ></div>

    <div class="cards container">
    </div>

    <dialog class="settings-modal">
    <section>
        <div class="colors"></div>

        <textarea class="tier-label" placeholder="Tier label"></textarea>

        <button id="delete">Delete Row</button>
        <button id="clear">Clear Row</button>
        <button id="prepend">Add a Row Above</button>
        <button id="append">Add a Row Below</button>
    </section>
    </dialog>
    
</div>

<script>
    // ë‹¤êµ­ì–´ ì§€ì› í•¨ìˆ˜
    async function updateLanguageContent() {
        const currentLang = typeof LanguageRouter !== 'undefined' ? LanguageRouter.getCurrentLanguage() : 'kr';
        
        // Jekyll ë‹¤êµ­ì–´ ë°ì´í„° ì‚¬ìš©
        const i18nData = {
            kr: {
                language_notice: "",
                nav_home: "í™ˆ",
                nav_current: "í‹°ì–´ ë©”ì´ì»¤",
                page_title: "í‹°ì–´ ë©”ì´ì»¤",
                filter_element: "ì†ì„±",
                filter_position: "ì§ì—…",
                filter_rarity: "ìœ í˜•",
                filter_tag: "íƒœê·¸",
                add_tier_button: "ìƒˆ í‹°ì–´ ì¶”ê°€"
            },
            en: {
                language_notice: "",
                nav_home: "{{ site.data.i18n.en.nav_home | default: 'Home' }}",
                nav_current: "{{ site.data.i18n.en.tier_maker | default: 'Tier Maker' }}",
                page_title: "{{ site.data.i18n.en.tier_maker_title | default: 'Tier Maker' }}",
                filter_element: "{{ site.data.i18n.en.filter_element | default: 'Element' }}",
                filter_position: "{{ site.data.i18n.en.filter_position | default: 'Position' }}",
                filter_rarity: "{{ site.data.i18n.en.filter_rarity | default: 'Type' }}",
                filter_tag: "{{ site.data.i18n.en.filter_tag | default: 'Tag' }}",
                add_tier_button: "{{ site.data.i18n.en.add_tier_button | default: 'Add New Tier' }}"
            },
            jp: {
                language_notice: "",
                nav_home: "{{ site.data.i18n.jp.nav_home | default: 'ãƒ›ãƒ¼ãƒ ' }}",
                nav_current: "{{ site.data.i18n.jp.tier_maker | default: 'ãƒ†ã‚£ã‚¢ãƒ¡ãƒ¼ã‚«ãƒ¼' }}",
                page_title: "{{ site.data.i18n.jp.tier_maker_title | default: 'ãƒ†ã‚£ã‚¢ãƒ¡ãƒ¼ã‚«ãƒ¼' }}",
                filter_element: "{{ site.data.i18n.jp.filter_element | default: 'å±æ€§' }}",
                filter_position: "{{ site.data.i18n.jp.filter_position | default: 'è·æ¥­' }}",
                filter_rarity: "{{ site.data.i18n.jp.filter_rarity | default: 'ã‚¿ã‚¤ãƒ—' }}",
                filter_tag: "{{ site.data.i18n.jp.filter_tag | default: 'ã‚¿ã‚°' }}",
                add_tier_button: "{{ site.data.i18n.jp.add_tier_button | default: 'æ–°è¦ãƒ†ã‚£ã‚¢è¿½åŠ ' }}"
            }
        };
        
        const data = i18nData[currentLang];
        if (!data) return;
        
        // ì–¸ì–´ ì•ˆë‚´ ë©”ì‹œì§€
        if (currentLang !== 'kr') {
            const notice = document.getElementById('language-notice');
            const noticeText = document.getElementById('language-notice-text');
            if (notice && noticeText && data.language_notice) {
                noticeText.textContent = data.language_notice;
                notice.style.display = 'block';
            }
        }
        
        // ë„¤ë¹„ê²Œì´ì…˜ ë° ì œëª© ì—…ë°ì´íŠ¸
        const navHome = document.getElementById('nav-home');
        const navCurrent = document.getElementById('nav-current');
        const pageTitle = document.getElementById('page-title');
        
        if (navHome) navHome.textContent = data.nav_home;
        if (navCurrent) navCurrent.textContent = data.nav_current;
        if (pageTitle) pageTitle.textContent = data.page_title;
        
        // í•„í„° ì œëª© ì—…ë°ì´íŠ¸
        const filterElementTitle = document.getElementById('filter-element-title');
        const filterPositionTitle = document.getElementById('filter-position-title');
        const filterRarityTitle = document.getElementById('filter-rarity-title');
        const filterTagTitle = document.getElementById('filter-tag-title');
        const addTierButton = document.getElementById('add-tier-button');
        
        if (filterElementTitle) filterElementTitle.textContent = data.filter_element;
        if (filterPositionTitle) filterPositionTitle.textContent = data.filter_position;
        if (filterRarityTitle) filterRarityTitle.textContent = data.filter_rarity;
        if (filterTagTitle) filterTagTitle.textContent = data.filter_tag;
        if (addTierButton) {
            const buttonIcon = addTierButton.querySelector('i');
            const buttonText = data.add_tier_button;
            addTierButton.innerHTML = `<i class="bi bi-plus-circle"></i> ${buttonText}`;
        }
        
        // íƒœê·¸ í•„í„° ë²ˆì—­
        await updateTagFilterTranslations(currentLang);
    }
    
    // íƒœê·¸ í•„í„° ë²ˆì—­ í•¨ìˆ˜
    async function updateTagFilterTranslations(currentLang) {
        if (currentLang === 'kr') return;
        
        const tagTranslations = {
            'en': {
                'TECHNICAL': 'TECHNICAL',
                'ì¶”ê°€ íš¨ê³¼': 'Additional Effect',
                'ì§€ì† ëŒ€ë¯¸ì§€': 'Damage over Time',
                'ë°©ì–´ë ¥ ê°ì†Œ': 'Defense Reduction',
                'ê´€í†µ': 'Pierce Rate',
                'íš¨ê³¼ ëª…ì¤‘': 'Effect Accuracy',
                'ì‹¤ë“œ': 'Shield',
                'í™”ìƒ': 'Burn',
                'í’ìŠµ': 'Windswept',
                'ê°ì „': 'Shock',
                'ë™ê²°': 'Freeze'
            },
            'jp': {
                'TECHNICAL': 'TECHNICAL',
                'ì¶”ê°€ íš¨ê³¼': 'è¿½åŠ åŠ¹æœ',
                'ì§€ì† ëŒ€ë¯¸ì§€': 'æŒç¶šãƒ€ãƒ¡ãƒ¼ã‚¸',
                'ë°©ì–´ë ¥ ê°ì†Œ': 'é˜²å¾¡åŠ›æ¸›å°‘',
                'ê´€í†µ': 'è²«é€š',
                'íš¨ê³¼ ëª…ì¤‘': 'çŠ¶æ…‹ç•°å¸¸å‘½ä¸­',
                'ì‹¤ë“œ': 'ã‚·ãƒ¼ãƒ«ãƒ‰',
                'í™”ìƒ': 'ç«å‚·',
                'í’ìŠµ': 'é¢¨ç¿’',
                'ê°ì „': 'æ„Ÿé›»',
                'ë™ê²°': 'å‡çµ'
            }
        };
        
        const translations = tagTranslations[currentLang];
        if (!translations) return;
        
        // íƒœê·¸ í•„í„° ì˜µì…˜ë“¤ì˜ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        const tagOptions = document.querySelectorAll('.filter-group:last-child .filter-options label span');
        tagOptions.forEach(span => {
            const originalText = span.textContent;
            if (translations[originalText]) {
                span.textContent = translations[originalText];
            }
        });
        
        // ì˜ì–´/ì¼ë³¸ì–´ì¼ ë•Œ íƒœê·¸ í•„í„° ìˆ¨ê¸°ê¸°
        if (currentLang === 'en' || currentLang === 'jp') {
            const tagFilterGroup = document.querySelector('.filter-group:last-child');
            if (tagFilterGroup) {
                tagFilterGroup.style.display = 'none';
            }
        }
    }
    
    // ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë°ì´í„° ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜
    function extractDataFromScript(scriptText) {
        // characterDataì™€ characterListë¥¼ ì¶”ì¶œí•˜ëŠ” ì •ê·œì‹
        const characterDataMatch = scriptText.match(/const characterData = ({[\s\S]*?});/);
        const characterListMatch = scriptText.match(/const characterList = ({[\s\S]*?});/);
        
        if (!characterDataMatch || !characterListMatch) {
            throw new Error('Failed to extract data from script');
        }
        
        // JSONìœ¼ë¡œ íŒŒì‹±í•˜ê¸° ìœ„í•´ Function ìƒì„±ì ì‚¬ìš©
        const characterData = new Function('return ' + characterDataMatch[1])();
        const characterList = new Function('return ' + characterListMatch[1])();
        
        return { characterData, characterList };
    }

    // ì–¸ì–´ë³„ ìºë¦­í„° ë°ì´í„° ë¡œë”© ë° ë³‘í•©
    async function loadCharacterData() {
        const currentLang = typeof LanguageRouter !== 'undefined' ? LanguageRouter.getCurrentLanguage() : 'kr';
        
        try {
            // 1. í•œêµ­ì–´ ë°ì´í„° ë¡œë”© (ê¸°ë³¸ ë°ì´í„°)
            const krResponse = await fetch(`/data/kr/characters/characters.js?v=${APP_VERSION}`);
            if (!krResponse.ok) {
                throw new Error('Failed to load KR character data');
            }
            
            const krScriptText = await krResponse.text();
            const { characterData: krCharacterData, characterList: krCharacterList } = extractDataFromScript(krScriptText);
            
            //console.log('KR character count:', Object.keys(krCharacterData).length);
            //console.log('KR character list:', krCharacterList);
            
            // 2. ì–¸ì–´ë³„ ë°ì´í„° ë¡œë”© (í•œêµ­ì–´ê°€ ì•„ë‹Œ ê²½ìš°)
            if (currentLang !== 'kr') {
                //console.log(`ğŸ” Attempting to load ${currentLang} data...`);
                const langUrl = `/data/${currentLang}/characters/characters.js?v=${APP_VERSION}`;
                //console.log('Language data URL:', langUrl);
                
                const langResponse = await fetch(langUrl);
                //console.log('Language data response status:', langResponse.status);
                
                if (langResponse.ok) {
                    //console.log('âœ… Language data loaded successfully');
                    const langScriptText = await langResponse.text();
                    //console.log('Language script text length:', langScriptText.length);
                    
                    const { characterData: langCharacterData, characterList: langCharacterList } = extractDataFromScript(langScriptText);
                    
                    //console.log(`${currentLang.toUpperCase()} character count:`, Object.keys(langCharacterData).length);
                    //console.log(`${currentLang.toUpperCase()} character list:`, langCharacterList);
                    
                    // 3. ë°ì´í„° ë³‘í•©
                    //console.log('ğŸ”„ Starting data merge...');
                    const mergedData = mergeCharacterData(krCharacterData, langCharacterData);
                    //console.log('âœ… Data merge completed');
                    
                    // ì „ì—­ ë³€ìˆ˜ ì„¤ì •
                    window.characterData = mergedData;
                    window.characterList = langCharacterList;
                    
                } else {
                    //console.log('âŒ Language data not found, using KR data. Status:', langResponse.status);
                    // ì–¸ì–´ë³„ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ í•œêµ­ì–´ ë°ì´í„° ì‚¬ìš©
                    window.characterData = krCharacterData;
                    window.characterList = krCharacterList;
                }
            } else {
                //console.log('Using KR data directly');
                // í•œêµ­ì–´ì¸ ê²½ìš° ê·¸ëŒ€ë¡œ ì‚¬ìš©
                window.characterData = krCharacterData;
                window.characterList = krCharacterList;
            }
            
            return true;
            
        } catch (error) {
            console.error('Failed to load character data:', error);
            return false;
        }
    }
    
    // ìºë¦­í„° ë°ì´í„° ë³‘í•© í•¨ìˆ˜
    function mergeCharacterData(krData, langData) {
        const mergedData = {};
        const currentLang = typeof LanguageRouter !== 'undefined' ? LanguageRouter.getCurrentLanguage() : 'kr';
        
        // ì–¸ì–´ë³„ ë°ì´í„°ì— ìˆëŠ” ìºë¦­í„°ë§Œ í¬í•¨
        for (const characterKey in langData) {
            if (krData[characterKey]) {
                // í•œêµ­ì–´ ë°ì´í„°ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì™„ì „íˆ ë³µì‚¬
                mergedData[characterKey] = { ...krData[characterKey] };
                
                const langChar = langData[characterKey];
                const krChar = krData[characterKey];
                
                // name ì²˜ë¦¬: í˜„ì¬ ì–¸ì–´ì— ë”°ë¼ ì ì ˆí•œ ì´ë¦„ ì‚¬ìš©
                if (currentLang === 'en') {
                    if (krChar.name_en) {
                        mergedData[characterKey].name = krChar.name_en;
                    } else if (langChar.name && langChar.name !== '') {
                        mergedData[characterKey].name = langChar.name;
                    }
                } else if (currentLang === 'jp') {
                    if (krChar.name_jp) {
                        mergedData[characterKey].name = krChar.name_jp;
                    } else if (langChar.name && langChar.name !== '') {
                        mergedData[characterKey].name = langChar.name;
                    }
                }
                
                // ë‹¤ë¥¸ í•„ë“œë“¤ì€ ì–¸ì–´ë³„ ë°ì´í„°ì— ê°’ì´ ìˆê³  ë¹ˆ ë¬¸ìì—´ì´ ì•„ë‹ ë•Œë§Œ ë®ì–´ì“°ê¸°
                if (langChar.role && langChar.role !== '') {
                    mergedData[characterKey].role = langChar.role;
                }
                if (langChar.tag && langChar.tag !== '') {
                    mergedData[characterKey].tag = langChar.tag;
                }
                if (langChar.release_order !== undefined && langChar.release_order !== 0) {
                    mergedData[characterKey].release_order = langChar.release_order;
                }
            }
        }
        
        return mergedData;
    }
    
    // ì–¸ì–´ë³„ SEO ì„¤ì • í•¨ìˆ˜
    function updateSEOContent() {
        const currentLang = typeof LanguageRouter !== 'undefined' ? LanguageRouter.getCurrentLanguage() : 'kr';
        
        const seoData = {
            'kr': {
                title: 'í‹°ì–´ ë©”ì´ì»¤ - í˜ë¥´ì†Œë‚˜5 ë” íŒ¬í…€ X ë£¨í˜ë¥´ë„·',
                description: 'í˜ë¥´ì†Œë‚˜5 ë” íŒ¬í…€ X í‹°ì–´ ë©”ì´ì»¤. ë³¸ì¸ë§Œì˜ P5X í‹°ì–´ë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”.'
            },
            'en': {
                title: 'Tier Maker - Persona 5: The Phantom X LufelNet',
                description: 'Persona 5: The Phantom X Tier Maker. Create your own P5X tier list.'
            },
            'jp': {
                title: 'ãƒ†ã‚£ã‚¢ãƒ¡ãƒ¼ã‚«ãƒ¼ - ãƒšãƒ«ã‚½ãƒŠ5 ã‚¶ãƒ»ãƒ•ã‚¡ãƒ³ãƒˆãƒ  X LufelNet',
                description: 'ãƒšãƒ«ã‚½ãƒŠ5 ã‚¶ãƒ»ãƒ•ã‚¡ãƒ³ãƒˆãƒ  X ãƒ†ã‚£ã‚¢ãƒ¡ãƒ¼ã‚«ãƒ¼ã€‚è‡ªåˆ†ã ã‘ã®P5Xãƒ†ã‚£ã‚¢ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚'
            }
        };
        
        const currentSEO = seoData[currentLang] || seoData['kr'];
        
        // íƒ€ì´í‹€ ì—…ë°ì´íŠ¸
        document.title = currentSEO.title;
        
        // ë©”íƒ€ íƒœê·¸ ì—…ë°ì´íŠ¸
        const metaDescription = document.querySelector('meta[name="description"]');
        const ogTitle = document.querySelector('meta[property="og:title"]');
        const ogDescription = document.querySelector('meta[property="og:description"]');
        
        if (metaDescription) metaDescription.setAttribute('content', currentSEO.description);
        if (ogTitle) ogTitle.setAttribute('content', currentSEO.title);
        if (ogDescription) ogDescription.setAttribute('content', currentSEO.description);
    }
    
    // ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€ë¥¼ ìœ„í•œ í”Œë˜ê·¸
    let isInitializing = false;
    let isInitialized = false;

    async function initializePageContent() {
        // ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
        if (isInitializing || isInitialized) {
            //console.log('initializePageContent already running or completed');
            return;
        }
        
        isInitializing = true;
        //console.log('=== STARTING TIER MAKER PAGE INITIALIZATION ===');
        
        // ìºë¦­í„° ë°ì´í„° ë¡œë”©
        const dataLoaded = await loadCharacterData();
        if (!dataLoaded || typeof window.characterData === 'undefined') {
            //console.error('characterData is not loaded');
            isInitializing = false;
            return;
        }
        
        //console.log('Character data loaded successfully');
        //console.log('Available characters:', Object.keys(window.characterData).length);
        //console.log('Character list:', window.characterList);
        
        // í‹°ì–´ ë©”ì´ì»¤ ì´ˆê¸°í™” (tiers.jsì—ì„œ ì •ì˜ëœ í•¨ìˆ˜)
        if (typeof window.initTierMaker === 'function') {
            window.initTierMaker();
        } else {
            console.error('initTierMaker function not found');
        }
        
        // ì´ˆê¸°í™” ì™„ë£Œ
        isInitializing = false;
        isInitialized = true;
        //console.log('=== TIER MAKER PAGE INITIALIZATION COMPLETED ===');
    }
    
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', async () => {
        //console.log('DOMContentLoaded event fired');
        
        // ê¸°ë³¸ ì´ˆê¸°í™” ì‘ì—…
        Navigation.load('tier-maker');
        
        // SEO ì„¤ì • ì—…ë°ì´íŠ¸
        updateSEOContent();
        
        // ì–¸ì–´ ë¼ìš°í„° ì´ˆê¸°í™” ë° ì½˜í…ì¸  ì—…ë°ì´íŠ¸
        if (typeof LanguageRouter !== 'undefined') {
            // ì–¸ì–´ íŒŒë¼ë¯¸í„° ì²´í¬
            const hasLangParam = window.location.search.includes('lang=');
            if (hasLangParam) {
                // ì–¸ì–´ íŒŒë¼ë¯¸í„°ê°€ ìˆìœ¼ë©´ ë°”ë¡œ ì½˜í…ì¸  ë¡œë“œ
                await updateLanguageContent();
                await initializePageContent();
            } else {
                // ì–¸ì–´ íŒŒë¼ë¯¸í„°ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ í•œêµ­ì–´ë¡œ ì„¤ì •
                const currentUrl = new URL(window.location);
                currentUrl.searchParams.set('lang', 'kr');
                window.history.replaceState({}, '', currentUrl);
                
                await updateLanguageContent();
                await initializePageContent();
            }
        } else {
            await updateLanguageContent();
            await initializePageContent();
        }
    });
    
    // ì¶”ê°€ ì•ˆì „ì¥ì¹˜
    window.addEventListener('load', async () => {
        console.log('Window load event fired');
        if (!isInitialized) {
            console.log('Page not initialized yet, running initialization...');
            await initializePageContent();
        }
    });
</script>
