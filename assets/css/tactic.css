html { overscroll-behavior-y: none; }

body { /* background: url("{{ site.baseurl }}/assets/img/ui/insidebg.jpg") no-repeat center center;*/
    background-size: cover; color: rgba(255, 255, 255, 0.9); margin: 0; padding: 0px; line-height: 1.5; overflow-x: hidden; /* 가로 스크롤 방지 */
    overscroll-behavior-y: none; -webkit-overflow-scrolling: auto; }

  @media (max-width: 1200px) { .main-wrapper {   width: calc(100% - 32px); 
    }
  }

  .container { width: 100%; max-width: 100vw; overflow-x: hidden; padding: 0; margin: 0; }

  .header-container { padding: 0px 0px 10px 0px; }

  @media (max-width: 1200px) { .hide-ui .header-container {   gap: 0;   margin-bottom: 16px; }
  }

  .container h1 { color:#FFFFFF
  }

  .navigation-path { padding: 0px 0px 10px 0px; }
  
  select, input[type="text"] { -webkit-appearance: none; -moz-appearance: none; appearance: none; color: rgba(255, 255, 255, 0.9) !important; background-color: rgba(0, 0, 0, 0.15); border : none; border-radius: 3px; padding: 8px; font-size: 13px; transition: border-color 0.2s ease; }
  
  select:hover, input[type="text"]:hover { border-color: #B3BAC5; }
  
  select:focus, input[type="text"]:focus { border-color: rgb(255, 255, 255, 0.5); outline: none; box-shadow: 0 0 0 2px rgba(76, 154, 255, 0.2); }
  

  
  #top-container { display: grid; grid-template-columns: 400px 776px; /* 두 칼럼으로 분할 */
    align-items: stretch; gap: 24px; margin-bottom: 24px; width: 100%; max-width: 100%; }
  
  .card { background: linear-gradient(to bottom, rgb(109, 30, 37) 40px, #3d3030 24px); border-radius: 2px; box-shadow: 0 1px 1px rgba(9, 30, 66, 0.25); padding: 16px 24px 20px 24px; /* 상우하좌 */
    height: 100%; /* 내용물 높이에 맞춤 */
  }

  @media (max-width: 1200px) { .card {   padding: 16px 16px 20px 16px; }
  }
  
  
  
  .card h2 { font-size : 15px; margin-top: -7px; margin-bottom: 8px; color: #FFFFFF; font-weight: 500; }
  .card label { margin-top : 0px; padding : 0px; font-size : 13px; }

  
  #turns { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; grid-auto-flow: row; }

  .turn-container { background: linear-gradient(to top, rgb(109, 30, 37) 2px, #3d3030 2px); border-radius: 2px; box-shadow: 0 1px 1px rgba(9, 30, 66, 0.25); padding: 12px 16px 0px 16px; margin-bottom: 0px; position: relative; width: 560px; }
  
  .turn-header-container { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0px; }
  
  .turn-header { /*cursor: grab;*/
    font-size: 14px; font-weight: 500; margin-bottom: 4px; color: rgba(255, 255, 255, 0.9); margin-right: auto; }
  
  /*
  .turn-header:active { cursor: grabbing; }*/
  
  .actions { margin-top : 8px; margin-left: 0; /* 좌측 margin 제거 */
    padding-left: 0; /* 패딩도 제거 */
    list-style-type: none; /* 기본 리스트 스타일 제거 */
  }

  .action-item { cursor: grab; padding: 2px; border: 1px solid rgb(255, 255, 255, 0); border-radius: 3px; margin-bottom: 4px; display: grid; grid-template-columns: 0.6fr 0.6fr minmax(0, 1fr) auto; gap: 16px; align-items: center; background: rgba(255, 255, 255, 0.1); margin-left: 0; min-width: 0; 
  }

  .action-item .hide-ui{ grid-template-columns: 0.6fr 0.6fr 1fr; }
  
  .action-item:hover { background: rgb(0, 0, 0,0.5); }
  
  .add-action { width: 16px; height: 16px; border-radius: 50%; background: #b42f1d; color: #FFFFFF; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 13.5px; transition: background-color 0.2s ease; margin-right: 8px; }

  .menu-btn { background: transparent; border: 0; border-radius: 6px; color: #fff; padding: 2px 0px 0px 0px; cursor: pointer; }

  /* 편집 UI 숨김: 메뉴 버튼도 숨김 */
  .hide-ui .menu-btn { display: none !important; }

  .menu { position: absolute; right: 8px; top: 36px; background: rgba(0, 0, 0, .9); border: 1px solid rgba(255, 255, 255, .15); border-radius: 8px; display: none; flex-direction: column; min-width: 60px; z-index: 5; }

  .menu.show { display: flex; }

  .menu button { background: transparent; border: none; color: #fff; text-align: left; padding: 8px 10px; cursor: pointer; }
  
  .add-action:hover { background: #0065FF; }
  
  .skill-group { padding: 8px; border-radius: 3px; font-size: 12px; }
  
  .skill-group label { cursor: pointer; }
  
  .skill-group input[type="radio"] { cursor: pointer; }
  
  /* 메모 입력 필드 스타일 */
  .action-memo { width: 160px; padding: 8px 12px; border-radius: 3px; font-size: 14px; transition: all 0.2s ease; background-color: transparent !important; }
  
  .action-memo:hover { border-color: #ffffff; }
  
  .action-memo:focus { border-color: #4C9AFF; outline: none; box-shadow: 0 0 0 2px rgba(76, 154, 255, 0.2); }
  
  .delete-action { color: rgba(255, 255, 255, 0.5); opacity: 0.6; background: none; border: none; cursor: pointer; font-size: 20px; padding: 4px 8px; margin-left: auto; /* 우측 정렬 */
    transition: color 0.2s ease; }
  
  .delete-action:hover { color: #DE350B; }
  
  
  .wonder-setting label { display: grid; grid-template-columns: 80px 1fr; align-items: center; height: fit-content; gap: 16px; }
  
  #party-selection { display: flex; flex-direction: column; gap: 16px; height: 100%; padding-bottom: 0px; }
  
  .party-member { display: flex; gap: 24px; /* 그룹 간의 간격 */
    align-items: center; padding: 0px 0px 16px; border-bottom: 1px solid rgb(255, 255, 255, 0.2); }
  
  .party-member:last-child  { border-bottom: none; }
  
  /* 라벨과 입력칸을 감싸는 그룹 스타일 */
  .input-group { display: flex; align-items: center; gap: 8px; /* 라벨과 입력칸 사이의 간격 */
  }

  /* 각 요소의 너비 조정 */
  .input-group label { white-space: nowrap; /* 라벨 텍스트 줄바꿈 방지 */
    color: rgba(255, 255, 255, 0.9); font-weight: 500; }

  .party-name-input { width: 84px; padding : 8px; border-radius: 3px; border : none; background-color: rgba(0, 0, 0, 0.15); font-size: 14px; color: rgba(255, 255, 255, 0.9); }

  .party-order, .party-ritual { width: 45px; }

  .main-revelation, .sub-revelation { width: 80px !important; }

  .rev-display {width: 90px !important}

  /* Revelation custom dropdown (moved from inline) */
  .rev-select-wrap { position: relative; display: block; width: 100%; }
  .rev-select-wrap select.main-revelation,
  .rev-select-wrap select.sub-revelation {
    position: absolute; left: 0; top: 0; width: 100%; height: 100%;
    opacity: 0; pointer-events: none; /* keep native select for events/state */
  }
  .rev-display {
    display: flex; align-items: center; gap: 8px; width: 100%;
    background: #2e2626; color: #eee; /* border removed to blend with UI */
    padding: 8px 8px; border-radius: 3px; cursor: pointer; user-select: none;
  }
  .rev-display img { width: 20px; height: 20px; object-fit: cover; border-radius: 2px; }
  .rev-display span { font-size: 13px; flex: 1; min-width: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .rev-options {
    display: none; position: absolute; left: 0; right: 0; top: calc(100% + 4px); width: 100%;
    max-height: 240px; overflow-y: auto; background: #3d3030; z-index: 1000;
    border: 1px solid rgba(255,255,255,0.2); border-radius: 3px; box-shadow: 0 6px 12px rgba(0,0,0,0.3);
  }
  .rev-options.active { display: block; }
  .rev-option { display: flex; align-items: center; gap: 8px; padding: 8px; cursor: pointer; color: #eee; }
  .rev-option:hover { background: rgba(255,255,255,0.1); }
  .rev-option img { width: 20px; height: 20px; object-fit: cover; border-radius: 2px; }
  .rev-option span { font-size: 13px; flex: 1; min-width: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

  /* Wonder settings: custom dropdown (moved from inline JS) */
  .custom-dropdown {
    display: none;
    position: absolute;
    max-height: 300px; /* about 20 items tall */
    overflow-y: auto;
    background: #3d3030;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    z-index: 1000;
    width: 100%;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    left: 0;
    top: 100%;
  }

  .custom-dropdown.active { display: block; }

  .dropdown-item {
    padding: 8px 12px;
    cursor: pointer;
    color: rgba(255, 255, 255, 0.9);
    font-size: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .dropdown-item:hover { background: rgba(255, 255, 255, 0.1); }

  .skill-icon { width: 16px; height: 16px; object-fit: contain; }
  .persona-icon { width: 24px; height: 24px; object-fit: contain; }
  .weapon-icon { width: 24px; height: 24px; object-fit: contain; }

  /* Translation overlay for non-KR display */
  .input-container { position: relative; /* ensure positioning context */ }

  .input-container.show-translation input {
    color: transparent !important;
    text-shadow: none !important;
  }

  .input-container.show-translation input:focus {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .input-container.show-translation::before {
    content: attr(data-display-text);
    position: absolute;
    left: 8px;
    top: 50%;
    transform: translateY(-50%);
    color: rgba(255, 255, 255, 0.9);
    pointer-events: none;
    z-index: 1;
    font-size: 12px;
    font-family: inherit;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 40px);
  }

  /* Hide overlay when focusing input */
  .input-container.show-translation input:focus + *::before,
  .input-container.show-translation:has(input:focus)::before {
    display: none;
  }

  .action-buttons { display: flex; gap: 4px; margin-left: auto; align-items: center; height: 100%; }

  .clone-action { display: flex; align-items: center; justify-content: center; width: 16px; height: 16px; padding: 0; border: none; background-color: transparent; cursor: pointer; opacity: 0.6; transition: opacity 0.2s ease; /* SVG 아이콘 수정 */
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg width='800' height='800' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14 16.75H6C5.27065 16.75 4.57118 16.4603 4.05546 15.9445C3.53973 15.4288 3.25 14.7293 3.25 14V6C3.25 5.27065 3.53973 4.57118 4.05546 4.05546C4.57118 3.53973 5.27065 3.25 6 3.25H14C14.7293 3.25 15.4288 3.53973 15.9445 4.05546C16.4603 4.57118 16.75 5.27065 16.75 6V14C16.75 14.7293 16.4603 15.4288 15.9445 15.9445C15.4288 16.4603 14.7293 16.75 14 16.75ZM6 4.75C5.66848 4.75 5.35054 4.8817 5.11612 5.11612C4.8817 5.35054 4.75 5.66848 4.75 6V14C4.75 14.3315 4.8817 14.6495 5.11612 14.8839C5.35054 15.1183 5.66848 15.25 6 15.25H14C14.3315 15.25 14.6495 15.1183 14.8839 14.8839C15.1183 14.6495 15.25 14.3315 15.25 14V6C15.25 5.66848 15.1183 5.35054 14.8839 5.11612C14.6495 4.8817 14.3315 4.75 14 4.75H6Z' fill='rgba(255,255,255,0.5)'/%3e%3cpath d='M18 20.75H10C9.27065 20.75 8.57118 20.4603 8.05546 19.9445C7.53973 19.4288 7.25 18.7293 7.25 18V16H8.75V18C8.75 18.3315 8.8817 18.6495 9.11612 18.8839C9.35054 19.1183 9.66848 19.25 10 19.25H18C18.3315 19.25 18.6495 19.1183 18.8839 18.8839C19.1183 18.6495 19.25 18.3315 19.25 18V10C19.25 9.66848 19.1183 9.35054 18.8839 9.11612C18.6495 8.8817 18.3315 8.75 18 8.75H16V7.25H18C18.7293 7.25 19.4288 7.53973 19.9445 8.05546C20.4603 8.57118 20.75 9.27065 20.75 10V18C20.75 18.7293 20.4603 19.4288 19.9445 19.9445C19.4288 20.4603 18.7293 20.75 18 20.75Z' fill='rgba(255,255,255,0.5)'/%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: center; background-size: 16px; }

  .hide-ui .clone-action,
  .hide-ui .delete-action,
  .hide-ui .clear-input,
  .hide-ui .add-action{ display: none !important;  
  }
  
  .clone-action:hover { opacity: 1; }

  .persona-container { position: relative; display: grid; }

  .persona-tooltip { display: none; position: absolute; bottom: 120%; left: 50%; transform: translateX(-50%); padding: 8px 12px; background: rgba(0, 0, 0, 0.9); color: white; border-radius: 3px; font-size: 14px; white-space: pre-line; z-index: 1000; width: max-content; max-width: 320px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(4px); line-height: 1.4; pointer-events: none; }

  .persona-tooltip::before { content: ''; position: absolute; bottom: -6px; left: 50%; transform: translateX(-50%); border: 6px solid transparent; border-top-color: rgba(0, 0, 0, 0.9); }

  .persona-container:hover .persona-tooltip { display: block; }

  .persona-img { cursor: help; }

  .wonder-setting { display: flex; flex-direction: column; gap: 24px; padding-bottom: 0px; }

  .wonder-persona-input { width: 240px !important; }

  .skill-inputs { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px;

    margin-top: 5px; }

  .persona-skill-input { flex: 1; min-width: 0; width: 100%; padding: 6px !important; border: 1px solid rgb(255, 255, 255, 0.5); border-radius: 2px !important; box-sizing: border-box; font-size: 11px; background-position: right 1px center !important; /* 화살표 위치 조정 */
    background-size: 11px !important; /* 화살표 크기 조정 */
  }

  /* 스킬 아이콘이 표시될 때 좌측 여백 확보 */
  .persona-skill-input.has-icon { padding-left: 26px !important; }

  /* 번역 오버레이가 있을 때 아이콘과 겹치지 않도록 위치 조정 */
  .input-container.has-skill-icon.show-translation::before { left: 28px; }

  /* 선택된 스킬 아이콘 (입력 컨테이너 내부 좌측 고정) */
  .input-container .skill-selected-icon {
    position: absolute;
    left: 6px;
    top: 50%;
    width: 16px;
    height: 16px;
    transform: translateY(-50%);
    pointer-events: none;
    object-fit: contain;
    opacity: 0.95;
  }

  .persona-skill-input::placeholder { font-size: 11px; color: rgb(255, 255, 255, 0.5); }

  .weapon-container { margin-bottom: 0px; height: fit-content; }


  .wonder-weapon-input { width: 240px; padding: 8px; border-radius: 3px; font-size: 14px;    
  }

  .logo-container-tactic { display: flex; align-items: center;

    gap: 8px; flex: 1;   /* 헤더 좌측 영역이 가용 폭을 차지하도록 */
    min-width: 0;  /* 내부 자식이 줄바꿈 없이 좁아질 수 있게 */
  }



  /* input 컨테이너 스타일 */
  .input-container { position: relative; display: inline-block; }

  /* clear 버튼 스타일 */
  .clear-input { position: absolute; right: 8px; top: 50%; transform: translateY(-50%); border: none; background: none; color: rgb(255, 255, 255, 0.5); cursor: pointer; padding: 4px; font-size: 14px; display: none; /* 기본적으로는 숨김 */
  }

  .clear-input:hover { color: rgba(255, 255, 255, 0.9); }

  /* input에 값이 있을 때만 clear 버튼 표시 */
  .input-container input:not([value=""]) ~ .clear-input { display: block; }

  /* datalist가 있는 input의 경우 clear 버튼이 dropdown 화살표와 겹치지 않도록 */
  input[list] { padding-right: 30px; }

  .party-images { display: flex; gap: 32px; margin-top: 0px; position: relative; margin-bottom: 12px; }

  .character-container { position: relative; display : inline-block; width: 100px; height: 100px; }

  @media (max-width: 1200px) { .character-container {   width: 80px;   height: 80px; }
  }

  .character-img { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 2px solid #DFE1E6; transition: all 0.2s ease; box-shadow: 4px 4px 0px rgba(255, 0, 0, 0.7); }

  @media (max-width: 1200px) { .character-img {   width: 80px;   height: 80px; }
  }

  .character-text-circle { width: 100px; height: 100px; border-radius: 50%; background-color: #DFE1E6; display: flex; align-items: center; justify-content: center; font-size: 14px; color: #172B4D; text-align: center; word-break: keep-all; padding: 8px; box-sizing: border-box; box-shadow: 4px 4px 0px rgba(255, 0, 0, 0.7); }


  .order-img { position: absolute; top: -5px; right: -5px; width: 54px; height: 18px; z-index: 1; }

  .ritual-img { position: absolute; bottom: -5px; left: -5px; width: 45px; height: 45px; z-index: 1; filter: drop-shadow(0 0 1px rgb(0, 0, 0))
    drop-shadow(0 0 1px rgb(0, 0, 0)); }

  @media (max-width: 1200px) { .ritual-img {   width: 40px;   height: 40px; }
  }

  .character-container:hover .character-img { border-color: #bd1f1f; transform: scale(1.05); }


  /* 파티 이미지와 페르소나 이미지를 포함하는 컨테이너 스타일 */
  .party-images-container { margin: 16px 0px 16px 0px; display: flex; gap: 48px; align-items: center; }

  /* 페르소나 이미지 컨테이너 스타일 */
  .persona-images { display: flex; gap: 8px; position: relative; padding-bottom: 16px; }

  .persona-img { width: 75px; height: 90px; transform: rotate(10deg); object-fit: contain; transition: all 0.2s ease; filter: drop-shadow(0 0 1px rgb(255, 0, 0))
    drop-shadow(0 0 2px rgb(255, 0, 0)); 
  }

  .persona-container:hover .persona-img { transform: scale(1.05); }

  /* 비활성화된 드롭다운 스타일 */
  select:disabled { background-color: rgba(255, 255, 255, 0.3); cursor: not-allowed; }

  .action-memo { background-color: transparent; border: none !important; padding: 8px; font-size: 13px; color: inherit; padding-right: 24px; }

  /* 액션 아이템 내의 드롭다운 스타일 */
  .action-character, .action-skill, .wonder-persona-select { background-color: transparent; border: none !important; padding: 8px; font-size: 13px; color: inherit; -webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='rgba(255,255,255,0.5)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right 8px center; background-size: 16px; padding-right: 24px; }

  /* 로고와 버튼을 포함하는 헤더 영역 */
  .header-container { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }

  .top-buttons { display: flex; gap: 16px; margin-left: auto; margin-right: 0px; align-items: center; }

  /* KR list toggle (desktop) */
  .kr-toggle-container { display: inline-flex; align-items: center; gap: 6px; color: #fff; font-size: 12px; opacity: 0.9; }
  .kr-toggle-container input { margin: 0; }
  .kr-toggle-container .kr-toggle-label { white-space: nowrap; }
  .hide-ui .kr-toggle-container { display: none !important; }

  .export-import-btn { padding: 8px 24px; color: white; border: none; cursor: pointer; font-size: 13px; /*background: url("{{ site.baseurl }}/assets/img/ui/newstab.png") no-repeat center center; background-size: cover; width: 135px;*/
    background: #552429; border-radius: 36px; width: fit-content; height: auto; }

  .hide-ui .export-import-btn { display: none; }

  .export-import-btn:hover { /*background: url("{{ site.baseurl }}/assets/img/ui/newstabon.png") no-repeat center center; background-size: cover;*/
    background: #7e1822; }

  /* 토글 버튼 스타일 수정 */
  .export-import-btn.toggle-ui-btn { position: relative; width: 48px;  /* 60px에서 48px로 축소 */
    height: 24px;  /* 30px에서 24px로 축소 */
    border-radius: 12px;  /* height의 절반으로 조정 */
    background: #7e1822; border: 1px solid #ffffff; cursor: pointer; transition: background-color 0.3s ease; padding: 0; margin-left: 16px; margin-right: 8px; display: flex; align-items: center; box-sizing: border-box; }

  /* 기존 export-import-btn의 hover 효과 덮어쓰기 */
  .export-import-btn.toggle-ui-btn:hover { width: 48px !important;  /* 너비 고정 */
    background: #a30e1d;  /* 비활성화 상태에서는 기본 색상 유지 */
  }

  /* 데스크톱 헤더 토글은 hover 시에도 레이아웃/크기 변화가 없도록 강제 고정 */
  .header-container .toggle-ui-btn,
  .header-container .toggle-ui-btn:hover,
  .header-container .toggle-ui-btn:focus { width: 48px !important; height: 24px !important; border: 1px solid #ffffff !important; padding: 0 !important; margin-left: 16px !important; margin-right: 8px !important; }

  .export-import-btn.toggle-ui-btn.active:hover { width: 48px !important;  /* 너비 고정 */
    background: #ffffff;  /* 활성화 상태에서는 흰색 유지 */
  }

  /* KR list toggle (mobile row - hidden by default) */
  .kr-toggle-mobile { display: none; margin: 8px 0 0; }
  .kr-toggle-mobile label { display: inline-flex; align-items: center; gap: 6px; font-size: 12px; }
  .kr-toggle-mobile input { margin: 0; }
  .hide-ui .kr-toggle-mobile { display: none !important; }

  /* 토글 스위치 */
  .toggle-ui-btn::before { content: ""; position: absolute; left: 3px;  /* 4px에서 3px로 조정 */
    top: 50%; width: 18px;  /* 22px에서 18px로 축소 */
    height: 18px;  /* 22px에서 18px로 축소 */
    border-radius: 50%; background: #ffffff; transition: left 0.3s ease, background-color 0.3s ease; transform: translateY(-50%); }

  /* 활성화 상태 */
  .toggle-ui-btn.active { background: #ffffff; }

  /* 활성화 상태일 때 스위치 위치 */
  .toggle-ui-btn.active::before { left: calc(100% - 21px);  /* 26px에서 21px로 조정 */
    background: #a30e1d; }

  /* 기존 hover 효과 제거 */
  .toggle-ui-btn:hover { background: #a30e1d;  /* 비활성화 상태에서는 기본 색상 유지 */
  }

  .toggle-ui-btn.active:hover { background: #ffffff;  /* 활성화 상태에서는 흰색 유지 */
  }

  /* 새로운 무기 이미지 스타일 추가 */
  .weapon-img { position: absolute; top: 0%; left: 0px; transform: translateY(-100%); /* 수직 중앙 정렬을 위해 추가 */
    height: 100px; rotate: 0deg; object-fit: contain; z-index: 1; filter: drop-shadow(0 0 1px white)
    drop-shadow(0 0 1px white); }

  @media (max-width: 1200px) { .weapon-img {   height: 80px; }
  }

  .middle-contianer { width: 1200px; display: flex; justify-content: space-between; align-items: flex-end; margin-right:0; padding-top: 16px; }

  .madeby { margin-right: 4px; font-size: 12px; color: #ffffff; opacity: 0.2; margin-bottom : 16px; }

  .revelations-container { position: absolute; bottom: -10px; right: -24px; display: flex; gap: 0; z-index: 1; filter: drop-shadow(0 0 2px rgb(0, 0, 0))
  }

  /* 계시 이미지 스타일 */
  .revelation-img { width: 40px; height: 40px; object-fit: contain; }

  /* 두 번째 이미지(일월성진)에 대한 스타일 */
  .revelation-img.sub-rev { margin-left: -15px; /* 이미지 너비의 절반만큼 왼쪽으로 이동 */
  }

  /* 모바일 반응형 스타일 */

  /* UI 숨김 모드 관련 스타일 */
  .hide-ui .action-character,
  .hide-ui .action-skill,
  .hide-ui .wonder-persona-select { background-image: none; }

  .hide-ui .persona-skill-input::placeholder, .action-memo::placeholder { color: transparent; }

  .hide-ui .wonder-weapon-input,.hide-ui .wonder-persona-input,.hide-ui .party-name-input ,.hide-ui .party-ritual, .hide-ui .persona-skill-input, .hide-ui .party-order, .hide-ui .main-revelation, .hide-ui .sub-revelation { border: none; }

  .hide-ui .wonder-setting .persona-container, .hide-ui .weapon-container { border-bottom: 1px solid rgba(255, 255, 255, 0.2); margin-top : -8px; padding-bottom : 8px; }


  .hide-ui .clone-action,
  .hide-ui .delete-action,
  .hide-ui .clear-input { opacity: 0; }

  .hide-ui .add-action { opacity: 0; }
  
  .hide-ui .mobile-lock-btn { opacity: 0; }

  /* 호버 시 요소 표시 */
  .hide-ui .clone-action:hover,
  .hide-ui .delete-action:hover,
  .hide-ui .clear-input:hover,
  .hide-ui .mobile-lock-btn:hover,
  .hide-ui .add-action:hover { opacity: 1; }

  /* 공통 셀렉트 박스 스타일 */
  .party-ritual, .party-order, .main-revelation, .sub-revelation { -webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='rgba(0,0,0,0.2)' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right 8px center; background-size: 16px; padding-right: 24px; }

  /* 기존 너비 유지 */
  .party-order, .party-ritual { width: 45px; }

  .main-revelation, .sub-revelation { width: 100px; }

  /* UI 숨김 모드에서 드롭다운 화살표 숨기기 */
  .hide-ui .party-ritual,
  .hide-ui .party-order,
  .hide-ui .main-revelation,
  .hide-ui .sub-revelation { background-image: none; padding-right: 8px !important; }

  .title-input { background: transparent !important; border: none !important; color: white; font-size: 24px !important; font-weight: bold; width: 100%; max-width: 100%; box-sizing: border-box; padding: 0px !important; }

  /* 제목 입력 컨테이너가 남는 공간을 모두 사용하도록 */
  .title-input-container{ flex: 1; min-width: 0; }

  .title-input:focus { outline: none; border-bottom: 1px solid rgba(255, 255, 255, 0.3); }

  .title-input::placeholder { color: rgba(255, 255, 255, 0.7); }

  /* 탭 컨테이너 스타일 */
  .tab-container { display: flex; gap: 8px; margin-bottom: 16px; }

  .tab-button { padding: 8px 16px; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 13px; background: url("/assets/img/ui/newstab.png") no-repeat center center; background-size: cover; width: 135px; height: auto; opacity: 0.7; }

  .tab-button.active { opacity: 1; }

  /* 탭 컨텐츠 영역 */
  .tab-pane { display: none; }

  .tab-pane.active { display: block; }

  /* 턴 행동 라디오 버튼 스타일 */
  .turn-action { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }

  .turn-action input[type="radio"] { margin: 0; }

  /* 불필요한 focus 효과 제거 */
  div, span, p, h1, h2, h3, h4, h5, h6 { -webkit-user-select: none;  /* Safari */
    -moz-user-select: none; /* Firefox */
    -ms-user-select: none;  /* IE10+/Edge */
    user-select: none;  /* Standard */
  }

  /* input, textarea 등 실제로 focus가 필요한 요소는 제외 */
  input[type="text"], 
  textarea, 
  select, 
  input[list] { user-select: text; }

  /* 모바일용 lock 토글 버튼 스타일 */

  .mobile-buttons { display: none; }

  .mobile-lock-btn { display: none;  /* 기본적으로는 숨김 */
    position: relative; padding: 8px 10px 8px 30px;  /* 왼쪽에 아이콘 공간 확보 */
    border-radius: 2px;

    background: #808080;  /* 기본 회색 */
    border: none; cursor: pointer; transition: all 0.3s ease; color: white; font-size: 12px; }

  .mobile-lock-btn::before { content: "🔓";  /* 기본 열린 자물쇠 */
    position: absolute; left: 8px; font-size: 14px;

    margin-bottom: 2px; }

  .mobile-lock-btn.active { background: #a30e1d;  /* 활성화 시 빨간색 */
  }

  .mobile-lock-btn.active::before { content: "🔒";  /* 활성화 시 닫힌 자물쇠 */
  }

  /* 모바일 화면에서만 버튼 표시 */
  @media screen and (max-width: 1440px) { body { width: 100%; min-height: 100%; -webkit-text-size-adjust: 100%; }

    /* 모바일 버튼 컨테이너 */
    .mobile-buttons {   position: relative;   display: flex;   gap: 8px;   margin-bottom: 16px;   left: -8px; }

    /* 모바일에서의 공통 버튼 스타일 */
    .mobile-buttons .toggle-ui-btn {   display: flex;   align-items: center;   position: relative;   padding: 8px 10px 8px 30px !important;   border-radius: 2px;   background: #808080;   border: none;   cursor: pointer;   transition: all 0.3s ease;   color: white;   font-size: 12px;   white-space: nowrap;  /* 텍스트 줄바꿈 방지 */
  height: 33px;   width: 100px; }

    /* EN/JP에서는 토글 버튼 폭을 120px로 확장 */
    html[data-lang="en"] .mobile-buttons .toggle-ui-btn,
    html[data-lang="jp"] .mobile-buttons .toggle-ui-btn {   width: 120px; }

    /* 모바일 버튼 아이콘 */
    .mobile-lock-btn::before,
    .mobile-buttons .toggle-ui-btn::before {   position: absolute;   left: 8px;   font-size: 14px; }

    /* toggle-ui 버튼 아이콘 */
    .mobile-buttons .toggle-ui-btn::before {   font-size: 12px;   content: attr(data-label);   background: none !important;  /* 배경 제거 */
  box-shadow: none !important;  /* 그림자 제거 */
  border: none !important;  /* 테두리 제거 */
    }

    .mobile-buttons .toggle-ui-btn.active {   background: #3b3b3b; }

    .mobile-buttons .toggle-ui-btn.active::before {   font-size: 12px;   content: attr(data-label-active);   background: none !important;  /* 배경 제거 */
  box-shadow: none !important;  /* 그림자 제거 */
  border: none !important;  /* 테두리 제거 */
    }

    /* 헤더의 toggle-ui-btn은 숨김 */
    .header-container .toggle-ui-btn {   display: none; }

    /* Desktop KR toggle hidden on mobile, show mobile row */
    .kr-toggle-container { display: none; }
    .kr-toggle-mobile { display: flex; justify-content: center; }

    .mobile-lock-btn {   display: flex;   align-items: center; }
    

    /* 잠금 상태일 때 드래그 커서 비활성화 */
    .turns-locked .turn-header,
    .turns-locked .action-item {   cursor: default; }


  }

  .persona-skill-input.unique-skill { background-color: rgb(255, 255, 255, 0.2); }

  /* 툴팁 스타일 개선 (토글 스위치는 제외) */
  [title]:not(.toggle-ui-btn) { position: relative; transition: all 0.1s ease; }

  [title]:not(.toggle-ui-btn):hover::after { content: attr(title); position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); padding: 8px 12px; background: rgba(0, 0, 0, 0.9); color: white; border-radius: 6px; font-size: 14px; white-space: pre-line; z-index: 100; width: max-content; max-width: 300px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(4px); line-height: 1.4; margin-bottom: 5px; }

  /* 툴팁 화살표 */
  [title]:not(.toggle-ui-btn):hover::before { content: ''; position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); border: 6px solid transparent; border-top-color: rgba(0, 0, 0, 0.9); margin-bottom: -1px; }

  /* 헤더의 편집 UI 토글 전용 툴팁: ::after만 사용하여 스위치의 ::before(동그라미)와 충돌 방지 */
  .header-container .toggle-ui-btn[title] { position: relative; }
  .header-container .toggle-ui-btn[title]:hover::after { content: attr(title); position: absolute; bottom: calc(100% + 8px); left: 50%; transform: translateX(-50%); padding: 6px 10px; background: rgba(0, 0, 0, 0.9); color: white; border-radius: 6px; font-size: 12px; white-space: nowrap; z-index: 2000; pointer-events: none; }

  /* 페르소나 이미지에 대한 특별한 툴팁 위치 조정 */
  .persona-img[title]:hover::after { bottom: 120%; }

  .persona-img[title]:hover::before { bottom: 120%; }



  
  @media screen and (max-width: 1440px) {


    /* 액션 아이템 내의 메모 입력 필드 특별 처리 */
    .action-memo {   -webkit-appearance: none;   appearance: none;   background-color: rgba(0, 0, 0, 0.15) !important;   position: relative;   z-index: 10 !important; /* 높은 z-index 값 */
  -webkit-user-select: text;   user-select: text;   -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);   touch-action: manipulation;   cursor: text !important;   -webkit-user-modify: read-write;   -moz-user-modify: read-write;   user-modify: read-write;   pointer-events: auto !important; }
    
    /* 액션 아이템 내의 메모 입력 필드가 포커스를 받았을 때 */
    .action-memo:focus {   outline: 2px solid rgba(76, 154, 255, 0.5) !important;   box-shadow: 0 0 0 2px rgba(76, 154, 255, 0.2) !important;   background-color: rgba(0, 0, 0, 0.25) !important; }
    
    /* 액션 아이템 자체의 드래그 기능 비활성화 */
    .action-item {   cursor: default !important; }
    
    /* 메모 입력 필드를 포함하는 액션 아이템에 대한 특별 처리 */
    .action-item:has(.action-memo:focus) {   cursor: default !important;   pointer-events: auto !important;   background-color: rgba(0, 0, 0, 0.2) !important; }
    
    #top-container {   width: 100% !important;   display: flex;   flex-direction: column;   gap: 24px;   margin-bottom: 24px;   min-width: auto !important; }


    .card{   min-width: auto !important; }

    /* 기존 모바일 스타일 유지 */
    .container {   width: 100%;   min-width: auto !important;  /* 최소 너비 제거 */
  padding: 0px; }
    /* 1. 페르소나 간격 증가 */
    .persona-container {   margin-bottom: 24px;  /* 페르소나 컨테이너 간 간격 증가 */
  padding: 0px;    /* 내부 패딩 추가 */
  /* background: #f8f9fa;  */
  border-radius: 4px;   min-width: auto !important; }

    .wonder-persona-input {   width: 100% !important;   min-width: auto !important; }

    /* 2. 스킬 입력 필드 크기 및 간격 조정 */

    .skill-inputs {   gap: 8px;    /* 스킬 입력 간 간격 증가 */
  margin-top: 12px;    /* 상단 여백 증가 */
  display: flex;   flex-direction: row;   flex-wrap: wrap;   width: 100%;   justify-content: flex-end;   align-items: right; }


    .persona-skill-input {   min-width: 240px;   font-size: 15px !important;  /* 폰트 크기 증가 */
  padding: 8px 12px !important; /* 패딩 증가 */
    }


    /* 3. 무기 입력창 및 clear 버튼 위치 조정 */
    .input-container {   position: relative;   display: flex;   align-items: center;   width: 100%;   min-width: auto !important; }

    /* 스킬 입력창만 따로 */
    .skill-inputs .input-container {   max-width: 340px; }

    .wonder-weapon-input {   width: 100%;   height: 20px !important;   padding: 8px 36px 8px 12px !important; /* 오른쪽 패딩 증가 */
  min-width: auto !important; }

    .clear-input {   position: absolute;   right: 8px;  /* 오른쪽 위치 조정 */
  top: 50%;   /* 중앙 정렬 */
  transform: translateY(-50%);   width: 24px;   height: 24px;   display: flex;   align-items: center;   min-width: auto !important; }

    /* 4. 괴도 선택 창 크기 조정 */
    .party-name {   height: 20px !important;  /* 다른 입력 필드와 동일한 높이 */
    }
    .party-name-input {   height: 16px !important;   padding: 0 0 0 4px;   width: 100% !important;   font-size: 13px
    }
    /* 기타 모바일 최적화 */

    .input-group {   margin-bottom: 8px;  /* 입력 그룹 간 간격 조정 */
    }


    .main-revelation, .sub-revelation {   width: 120px !important; }

    .party-ritual, .party-order {   width: 80px !important; }


    /* 헤더 레이아웃 수정 */
    .header-container {   flex-direction: column;   gap: 24px;   align-items: center;   margin-bottom: 36px; }

    .top-buttons {   display: flex; 
  flex-wrap: wrap;   row-gap: 16px;   margin-right: 0;   margin-left: 0;   align-items: center;   justify-content: center; }



    /* 파티 이미지 컨테이너 수정 */
    .party-images-container {   flex-direction: column;   gap: 24px;   align-items: center; }

    .party-images {   flex-wrap: wrap;   justify-content: center;   margin-bottom: 32px; }

    .persona-images {   flex-wrap: wrap;   justify-content: center; }

    /* madeby 위치 조정 */
    .middle-contianer {   width: 100%;   flex-direction: column;   align-items: center;   gap: 16px; }

    .madeby {   margin-right: 0;   margin-bottom: 24px; }

 
    /* 턴 레이아웃 수정 */
    #turns {   display: flex;   flex-direction: column;   width: 100%;   margin-left: -8px;   margin-bottom : 80px; }

    .turn-container {   width: 100%;   margin-bottom: 16px;   padding : 8px 8px 0px 8px ; }


    /* 액션 아이템 레이아웃 수정 */
    .action-item {   grid-template-columns: 1fr 1fr;   gap: 8px;   padding: 8px; }

    .action-buttons {   justify-content: flex-end; }

    /* 파티 멤버 레이아웃 수정 */
    .party-member {   display: flex;   flex-wrap: wrap;   gap: 12px;   padding: 16px 0; }

    .input-group {   margin-right: 16px; }

    /* 셀렉트 박스 너비 조정 */
    .party-name, .main-revelation, .sub-revelation {   width: 100%; }

    /* 폰트 크기 증가 */
    select, input[type="text"]:not(.title-input) {   font-size: 12px !important;  /* 모바일에서 기본 폰트 크기 */
  padding: 10px !important;    /* 터치 영역 확보 */
    }

    .title-input {   font-size: 20px !important;   text-align: center;   box-sizing: border-box; }

    .action-character, 
    .action-skill, 
    .wonder-persona-select,
    .action-memo {   font-size: 12px !important;   padding: 10px !important;   width: 100% !important; }

    .party-member label {   font-size: 12px !important; }

    .input-group label {   font-size: 12px !important;   min-width: 70px;    /* 라벨 최소 너비 설정 */

    }

    .turn-header {   font-size: 14px !important;   margin-left: 4px;   margin-top: 4px; }

    .card h2 {   font-size: 14px !important; }

    /* 드롭다운 화살표 크기 조정 */
    .action-character, 
    .action-skill, 
    .wonder-persona-select,
    .party-ritual, 
    .party-order, 
    .main-revelation, 
    .sub-revelation {   background-size: 20px !important;   background-position: right 10px center !important;   padding-right: 32px !important; }



    .delete-action {   font-size: 24px !important; }

    .clone-action {   width: 20px !important;   height: 20px !important;   background-size: 20px !important; }

    /* 입력 필드 높이 조정 */
    .input-group select,
    .input-group input {   height: 40px !important; }

  /* 모바일에서 hide-ui 시 요소 완전히 제거 */
    .hide-ui .clone-action,
    .hide-ui .delete-action,
    .hide-ui .clear-input,
    .hide-ui .add-action,
    .hide-ui .mobile-lock-btn {   display: none !important;  /* opacity 대신 display: none 사용 */
    }

    .hide-ui .action-item {   grid-template-columns: 0.5fr 0.5fr 1.5fr;   gap: 8px;   padding: 8px 8px 0px 8px;   align-items: center; }
    .hide-ui .action-item .action-character, .hide-ui .action-item .action-skill, .hide-ui .action-item .action-memo-display, .hide-ui .action-item .wonder-persona-select {   padding-right: 0px !important;   padding-left: 0px !important; }
    

    /* 액션 아이템 내부의 입력 필드가 포커스를 유지하도록 설정 */
    .action-item input[type="text"] {   pointer-events: auto !important;   touch-action: auto !important; }
  }

  /* 드롭다운 옵션 스타일 수정 */
  select option { background-color: #3d3030 !important; color: rgba(255, 255, 255, 0.9) !important; -webkit-appearance: none; -moz-appearance: none; appearance: none; }

  /* iOS에서 선택된 옵션 스타일 */
  select:active, 
  select:focus { color: rgba(255, 255, 255, 0.9) !important; background-color: transparent !important; }

  /* iOS에서 드롭다운 메뉴 스타일 */
  @supports (-webkit-touch-callout: none) { select {   color-scheme: dark;   -webkit-text-fill-color: rgba(255, 255, 255, 0.9); }
  }

  @media screen and (max-width: 1200px) { .wonder-weapon-input ~ .clear-input,
    .wonder-persona-input ~ .clear-input { display: none !important; }
  }

  /* 메모 표시 영역 스타일 - 기존 action-memo와 유사하게 */
  .memo-wrapper { flex: 1; position: relative; }

  .action-memo-display { padding: 8px 12px; border-radius: 3px; font-size: 13px; transition: all 0.2s ease; color: rgba(255, 255, 255, 0.9); cursor: text; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

  .action-memo-display.placeholder { color: rgba(255, 255, 255, 0.5); }

  .action-memo-display:hover { border-color: #ffffff; }

  /* hide UI 모드에서 placeholder 텍스트 숨기기 */
  .hide-ui .action-memo-display.placeholder { color: transparent; }

  /* 모달 스타일 - 기존 테마와 일치하도록 */
  .memo-edit-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80%; max-width: 300px; background-color: #3d3030; border: 1px solid rgba(255, 255, 255, 0.2); padding: 20px; border-radius: 4px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4); z-index: 1000; display: flex; flex-direction: column; gap: 16px; }

  .modal-memo-input { padding: 10px 12px; border: none; border-radius: 3px; font-size: 14px; background-color: rgba(0, 0, 0, 0.15); color: rgba(255, 255, 255, 0.9); }

  .modal-memo-input::placeholder { color: rgba(255, 255, 255, 0.5); }

  .modal-memo-input:focus { outline: none; box-shadow: 0 0 0 2px rgba(76, 154, 255, 0.2); }

  .modal-confirm-btn { padding: 8px 16px; background-color: #b42f1d; color: white; border: none; border-radius: 36px; cursor: pointer; font-size: 13px; align-self: center; transition: background-color 0.2s ease; }

  .modal-confirm-btn:hover { background-color: #7e1822; }

  /* 모바일 최적화 */
  @media screen and (max-width: 1440px) { .action-memo-display {   width: 100%;   font-size: 12px !important;   padding: 10px !important; }
    
    .memo-edit-modal {   width: 90%; }
    
    .modal-memo-input {   font-size: 16px;   padding: 12px; }
    
    .modal-confirm-btn {   padding: 6px 12px;   font-size: 14px; }
  }

